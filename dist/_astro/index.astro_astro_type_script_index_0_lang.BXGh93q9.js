document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("mobile-menu-btn"),t=document.getElementById("mobile-menu");e&&t&&(e.addEventListener("click",(()=>{t.classList.contains("show")?(t.classList.remove("show"),setTimeout((()=>{t.classList.add("hidden")}),300),e.innerHTML='\n          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>\n          </svg>\n        '):(t.classList.remove("hidden"),setTimeout((()=>{t.classList.add("show")}),10),e.innerHTML='\n          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\n          </svg>\n        ')})),t.querySelectorAll("a").forEach((n=>{n.addEventListener("click",(()=>{t.classList.remove("show"),setTimeout((()=>{t.classList.add("hidden")}),300),e.innerHTML='\n          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>\n          </svg>\n        '}))})),document.addEventListener("click",(n=>{!t.contains(n.target)&&!e.contains(n.target)&&t.classList.contains("show")&&(t.classList.remove("show"),setTimeout((()=>{t.classList.add("hidden")}),300),e.innerHTML='\n            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>\n            </svg>\n          ')})));const n=document.getElementById("back-to-top");n&&(window.addEventListener("scroll",(()=>{window.pageYOffset>300?n.classList.add("show"):n.classList.remove("show")})),n.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})));const o=document.getElementById("scroll-down"),s=document.getElementById("content-section");o&&s&&o.addEventListener("click",(()=>{s.scrollIntoView({behavior:"smooth"})}));const l=document.getElementById("products-section");o&&l&&!s&&o.addEventListener("click",(()=>{l.scrollIntoView({behavior:"smooth"})}));const c=document.querySelectorAll(".intro-carousel-item"),r=document.querySelectorAll(".intro-carousel-dot");if(c.length>0&&r.length>0){let e,t=function(e){c.forEach((e=>{e.classList.remove("opacity-100"),e.classList.add("opacity-0")})),r.forEach((e=>{e.classList.remove("bg-white"),e.classList.add("bg-gray-400")})),c[e]&&(c[e].classList.remove("opacity-0"),c[e].classList.add("opacity-100")),r[e]&&(r[e].classList.remove("bg-gray-400"),r[e].classList.add("bg-white")),o=e},n=function(){let e=(o+1)%c.length;t(e)},o=0;r.forEach(((e,n)=>{e.addEventListener("click",(()=>{t(n)}))})),e=setInterval(n,5e3);const s=document.querySelector(".intro-carousel-container");s&&(s.addEventListener("mouseenter",(()=>{clearInterval(e)})),s.addEventListener("mouseleave",(()=>{e=setInterval(n,5e3)})))}(()=>{const e=document.querySelector(".color-gallery-container");document.querySelector(".color-gallery-arrow");const t=document.getElementById("color-slider");if(!t||!e)return;t.innerHTML="",[{index:0,color:"bg-gray-200"},{index:1,color:"bg-gray-300"},{index:2,color:"bg-gray-400"},{index:3,color:"bg-gray-500"},{index:4,color:"bg-gray-600"},{index:5,color:"bg-gray-700"},{index:6,color:"bg-gray-800"},{index:7,color:"bg-blue-500"},{index:8,color:"bg-blue-600"},{index:9,color:"bg-blue-700"}].forEach((e=>{const n=document.createElement("div");n.className=`color-item ${e.color} cursor-pointer`,n.setAttribute("data-index",e.index);const o=document.createElement("span");o.className="text-white font-bold flex items-center justify-center h-full",o.textContent=e.index+1,n.appendChild(o),t.appendChild(n)}));const n=document.querySelectorAll(".color-item");let o,s=0;const l=()=>{o=setInterval((()=>{a((s+1)%n.length,!0)}),5e3)},c=()=>{clearInterval(o)};function r(t){const o=n.length,s=e.offsetWidth/2;e.offsetHeight;const l=.6*e.offsetWidth;n.forEach((e=>{e.style.position="absolute",e.style.width="40px",e.style.height="100%",e.style.opacity=.8,e.style.transition="all 0.5s ease",e.style.transform="translateX(0) scale(0.8)",e.style.zIndex="1",e.classList.remove("active-item")}));const c=n[t];c&&(c.style.width=`${l}px`,c.style.left=s-l/2+"px",c.style.opacity="1",c.style.zIndex="10",c.style.transform="scale(1)",c.classList.add("active-item"));const r=t;for(let e=0;e<r;e++){const o=n[e],c=t-e,r=10*c,a=5-c,d=Math.max(.3,.8-.1*c);o.style.left=s-l/2-40-r+"px",o.style.zIndex=a,o.style.opacity=d,o.style.transform=`translateX(${r}px) scale(${.8-.05*c})`}const a=o-t-1;for(let e=1;e<=a;e++){const o=n[t+e],c=10*e,r=5-e,a=Math.max(.3,.8-.1*e);o.style.left=`${s+l/2+c}px`,o.style.zIndex=r,o.style.opacity=a,o.style.transform=`translateX(-${c}px) scale(${.8-.05*e})`}!function(t,n){let o=document.querySelector(".left-stack-counter"),s=document.querySelector(".right-stack-counter");o||(o=document.createElement("div"),o.className="left-stack-counter absolute top-0 left-0 bg-gray-800 text-white px-2 py-1 rounded-bl z-20",e.appendChild(o)),s||(s=document.createElement("div"),s.className="right-stack-counter absolute top-0 right-0 bg-gray-800 text-white px-2 py-1 rounded-br z-20",e.appendChild(s)),o.textContent=t>0?`← ${t}`:"",s.textContent=n>0?`${n} →`:""}(r,a)}function a(e,t=!0){s=e,r(e),t&&window.goToCarouselSlide&&window.goToCarouselSlide(e)}document.addEventListener("keydown",(e=>{if("ArrowLeft"===e.key){a((s-1+n.length)%n.length,!0)}else if("ArrowRight"===e.key){a((s+1)%n.length,!0)}})),n.forEach((e=>{e.addEventListener("click",(()=>{a(parseInt(e.getAttribute("data-index")),!0)}))})),function(){let t=document.querySelector(".stack-prev-btn"),o=document.querySelector(".stack-next-btn");t||(t=document.createElement("button"),t.className="stack-prev-btn absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-2 z-20",t.innerHTML="←",e.appendChild(t)),o||(o=document.createElement("button"),o.className="stack-next-btn absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-2 z-20",o.innerHTML="→",e.appendChild(o)),t.addEventListener("click",(()=>{a((s-1+n.length)%n.length,!0)})),o.addEventListener("click",(()=>{a((s+1)%n.length,!0)}))}(),a(0,!0),l(),e.addEventListener("mouseenter",(()=>{c()})),e.addEventListener("mouseleave",(()=>{l()}));let d=0;e.addEventListener("touchstart",(e=>{d=e.touches[0].clientX,c()})),e.addEventListener("touchend",(e=>{const t=e.changedTouches[0].clientX-d;if(t>50){a((s-1+n.length)%n.length,!0)}else if(t<-50){a((s+1)%n.length,!0)}l()})),window.updateActiveColor=a})(),(()=>{const e=document.querySelector(".coverflow-container");if(document.getElementById("coverflow-prev"),document.getElementById("coverflow-next"),document.querySelectorAll(".carousel-dot"),!e)return;const t=e=>{};window.goToCarouselSlide=t})();const a=document.getElementById("contact-form"),d=document.getElementById("submit-btn"),i=document.getElementById("submit-text"),u=document.getElementById("submit-loading"),m=document.getElementById("success-message"),h=document.getElementById("error-message");a&&a.addEventListener("submit",(async e=>{e.preventDefault(),d.disabled=!0,i.classList.add("hidden"),u.classList.remove("hidden"),m.classList.add("hidden"),h.classList.add("hidden");try{const e=new FormData(a),t=await(await fetch("https://api.web3forms.com/submit",{method:"POST",body:e})).json();if(!t.success)throw new Error(t.message||"發送失敗");m.classList.remove("hidden"),m.classList.add("show"),a.reset(),setTimeout((()=>{m.classList.add("hidden"),m.classList.remove("show")}),5e3)}catch(e){h.classList.remove("hidden"),h.classList.add("show"),setTimeout((()=>{h.classList.add("hidden"),h.classList.remove("show")}),5e3)}finally{d.disabled=!1,i.classList.remove("hidden"),u.classList.add("hidden")}}))}));